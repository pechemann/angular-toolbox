<!--
 * LICENSE
 * Copyright Pascal ECHEMANN. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://pascalechemann.com/angular-toolbox/resources/license
-->

@if (currLog) {
    <header>
        <menu>
            <li role="button" (click)="changeSection(0)"><span [class.selected]="currSection === 0">Headers</span></li>
            @if (hasPayload) {
                <li role="button" (click)="changeSection(1)"><span [class.selected]="currSection === 1">Payload</span></li>
            }
            <li role="button" (click)="changeSection(2)"><span [class.selected]="currSection === 2">Preview</span></li>
            <li role="button" (click)="changeSection(3)"><span [class.selected]="currSection === 3">Response</span></li>
            <li role="button" (click)="changeSection(4)"><span [class.selected]="currSection === 4">Timing</span></li>
            <div role="button" (click)="action.sendAction(actionType.CLOSE_DETAILS_PANEL)" title="Close" class="header-btn">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                </svg>
            </div>
        </menu>
    </header>
    <main>
        @if (currSection === 0) {
            <atx-request-info-renderer [log]="currLog"/>
        } @else if (currSection === 1) {
            <atx-payload-renderer [log]="currLog"/>
        } @else if (currSection === 2) {
            <atx-response-preview-renderer [log]="currLog"/>
        } @else if (currSection === 3) {
            <section class="raw-response">
                <atx-response-body-renderer [log]="currLog"/>
            </section>
        } @else if (currSection === 4) {
            <atx-timing-renderer [log]="currLog"/>
        }
    </main>
}
